


asmno=9 #radial assembly no.

N=(asmno*5)+2
qcore= [("M"*N)+("X"*11)+("X"),]


i=asmno
f=0
f2=0


while i>2 and f2==0:
 ar=1
 while ar<6 and f2==0:

  if i==4 and f==0:
   print("HEY THERE")
   if ar==1:            
    line= "M"+ ("MMMMM"*(i-1))+"M"+"FMFFF"+("XXXXX"*(asmno-i))+("X"*11)+("X")
   elif ar%2==1 and ar>1:
    line= "M"+ ("MMMMM"*(i-1))+"M"+"XXXXX"+("XXXXX"*(asmno-i))+("X"*11)+("X")
    if ar==5:
     qcore.append(line)
     f2=1
     ar=6
   elif ar%2==0:
    line= "M"+ ("MFMFM"*(i-1))+"M"+"XXXXX"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")
   

  elif i%2==1:
   if ar%2==1:
    line= "M"+ ("MMMMM"*i)+"M"+("XXXXX"*(asmno-i))+("X"*11)+("X")
   else:
    line= "M"+ ("MFMFM"*i)+"M"+("XXXXX"*(asmno-i))+("X"*11)+("X")

  elif i%2==0 and f==1:
   if ar==5:
    line= "M"+ ("MMMMM"*i)+"M"+"FMFFF"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")
   elif ar%2==1 and ar<5:
    line= "M"+ ("MMMMM"*i)+"M"+"MMMMM"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")
   elif ar%2==0:
    line= "M"+ ("MFMFM"*i)+"M"+"FMFFF"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")

    
  elif i%2==0 and f==0:
   if ar==1:            
    line= "M"+ ("MMMMM"*i)+"M"+"FMFFF"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")
   elif ar%2==1 and ar>1:
    line= "M"+ ("MMMMM"*i)+"M"+"XXXXX"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")
   elif ar%2==0:
    line= "M"+ ("MFMFM"*i)+"M"+"XXXXX"+("XXXXX"*(asmno-i-1))+("X"*11)+("X")

   
  qcore.append(line)
  ar=ar+1
           
 if i%2==1 or (i%2==0 and f==0):
  i=i-1
  f=1
 elif i%2==0 and  f==1:
  f=0
 #else:
 # i=i-1

print(i)
  
for i in range(1,13):
 line=(("X")*(N+11))  +("X")
 qcore.append(line)
 temp=line.count('X')

#print(temp)
#print(len(qcore))

pitch=3;
latname="42"
r=str(2*len(qcore))
c=str(2*(N+12))

fnm="core_debug"
file=open(fnm,"w")
fline="%------------TAP MSR CORE LATTICE----------------\n"
file.write(fline)
fline="%------------------- "+c+" X"+r+" -------------\n"
file.write(fline)
fline="%-------- Pitch = "+str(pitch)+"cm -------------\n\n"
file.write(fline)
fline="lat "+latname+" "+ "1 0.0 0.0 "+c+" "+r+" "+str(pitch)+ "\n\n"
file.write(fline)

qcore.reverse()
for word in qcore:
 file.write(word[::-1]+""+word+"\n")
qcore.reverse()
for word in qcore:
 file.write(word[::-1]+""+word+"\n")
file.close()
import sys, os
#os.system("gedit /home/anshchaube/tap_msr/lat_script/"+fnm)
